\hypertarget{class_c_i___zip}{}\section{C\+I\+\_\+\+Zip Class Reference}
\label{class_c_i___zip}\index{CI\_Zip@{CI\_Zip}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_i___zip_a095c5d389db211932136b53f25f39685}{\+\_\+\+\_\+construct}} ()
\item 
\mbox{\hyperlink{class_c_i___zip_a86b6a309dad105e43b446dc9f8820703}{add\+\_\+dir}} (\$directory)
\item 
\mbox{\hyperlink{class_c_i___zip_a8d541e6609a5b2634a6a2bc7731465a5}{add\+\_\+data}} (\$filepath, \$data=N\+U\+LL)
\item 
\mbox{\hyperlink{class_c_i___zip_aa43eef46a052a3aff7a2ff0bf5c21c75}{read\+\_\+file}} (\$path, \$archive\+\_\+filepath=F\+A\+L\+SE)
\item 
\mbox{\hyperlink{class_c_i___zip_a296847a86d7cf0e4bba9b71a173cfffe}{read\+\_\+dir}} (\$path, \$preserve\+\_\+filepath=\mbox{\hyperlink{constants_8php_ae04a3efe6aa42044f803ee90c2277846}{T\+R\+UE}}, \$root\+\_\+path=N\+U\+LL)
\item 
\mbox{\hyperlink{class_c_i___zip_a263fd906f99ccca15a12fe34a79656e4}{get\+\_\+zip}} ()
\item 
\mbox{\hyperlink{class_c_i___zip_a935879d7074c751a4ac886aebd66cbd4}{archive}} (\$filepath)
\item 
\mbox{\hyperlink{class_c_i___zip_ad4263f6c296942842ae25a94053c5f16}{download}} (\$filename=\textquotesingle{}backup.\+zip\textquotesingle{})
\item 
\mbox{\hyperlink{class_c_i___zip_a89d046bac0ab06a81c5c03d55b4bcae5}{clear\+\_\+data}} ()
\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_i___zip_a395accfd5884d9a0e6fd53470b3e85b1}{\$zipdata}} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\hyperlink{class_c_i___zip_a1b07c630eb02f770a082a013373a16d6}{\$directory}} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\hyperlink{class_c_i___zip_affb4200921149b6126d0e51b415b2c75}{\$entries}} = 0
\item 
\mbox{\hyperlink{class_c_i___zip_af1ab53ee1a849492829ce782aac0163d}{\$file\+\_\+num}} = 0
\item 
\mbox{\hyperlink{class_c_i___zip_aec4de82415d7f05cb9748d12d3a95a87}{\$offset}} = 0
\item 
\mbox{\hyperlink{class_c_i___zip_af1d5ccdee975b8f4d20aaffc5b28557c}{\$now}}
\item 
\mbox{\hyperlink{class_c_i___zip_a9a4e30766e452f0d2feaecd666787ca1}{\$compression\+\_\+level}} = 2
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_i___zip_a2e4a669b246619934060ea323b99b332}{\+\_\+get\+\_\+mod\+\_\+time}} (\$dir)
\item 
\mbox{\hyperlink{class_c_i___zip_aacd1bc7175638298e01bd6c16bccfbe6}{\+\_\+add\+\_\+dir}} (\$dir, \$file\+\_\+mtime, \$file\+\_\+mdate)
\item 
\mbox{\hyperlink{class_c_i___zip_a4ff8a5ea57979ec1a44cc9e443acf26d}{\+\_\+add\+\_\+data}} (\$filepath, \$data, \$file\+\_\+mtime, \$file\+\_\+mdate)
\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_c_i___zip_a4c29a687d4ed62c26a10e41d98930d5f}{strlen}} (\$str)
\item 
static \mbox{\hyperlink{class_c_i___zip_a101caef57ef0b165da5747e2c2e6c9dc}{substr}} (\$str, \$start, \$length=N\+U\+LL)
\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_c_i___zip_aef84be58d58a5895572c5689e56a1047}{\$func\+\_\+overload}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 55 of file Zip.\+php.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_c_i___zip_a095c5d389db211932136b53f25f39685}\label{class_c_i___zip_a095c5d389db211932136b53f25f39685}} 
\index{CI\_Zip@{CI\_Zip}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily \+\_\+\+\_\+construct (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Initialize zip compression class

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 120 of file Zip.\+php.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_c_i___zip_a4ff8a5ea57979ec1a44cc9e443acf26d}\label{class_c_i___zip_a4ff8a5ea57979ec1a44cc9e443acf26d}} 
\index{CI\_Zip@{CI\_Zip}!\_add\_data@{\_add\_data}}
\index{\_add\_data@{\_add\_data}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\_add\_data()}{\_add\_data()}}
{\footnotesize\ttfamily \+\_\+add\+\_\+data (\begin{DoxyParamCaption}\item[{}]{\$filepath,  }\item[{}]{\$data,  }\item[{}]{\$file\+\_\+mtime,  }\item[{}]{\$file\+\_\+mdate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Add Data to Zip


\begin{DoxyParams}[1]{Parameters}
string & {\em \$filepath} & the file name/path \\
\hline
string & {\em \$data} & the data to be encoded \\
\hline
int & {\em \$file\+\_\+mtime} & \\
\hline
int & {\em \$file\+\_\+mdate} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 263 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_aacd1bc7175638298e01bd6c16bccfbe6}\label{class_c_i___zip_aacd1bc7175638298e01bd6c16bccfbe6}} 
\index{CI\_Zip@{CI\_Zip}!\_add\_dir@{\_add\_dir}}
\index{\_add\_dir@{\_add\_dir}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\_add\_dir()}{\_add\_dir()}}
{\footnotesize\ttfamily \+\_\+add\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{\$dir,  }\item[{}]{\$file\+\_\+mtime,  }\item[{}]{\$file\+\_\+mdate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Add Directory


\begin{DoxyParams}[1]{Parameters}
string & {\em \$dir} & the directory name \\
\hline
int & {\em \$file\+\_\+mtime} & \\
\hline
int & {\em \$file\+\_\+mdate} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 183 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a2e4a669b246619934060ea323b99b332}\label{class_c_i___zip_a2e4a669b246619934060ea323b99b332}} 
\index{CI\_Zip@{CI\_Zip}!\_get\_mod\_time@{\_get\_mod\_time}}
\index{\_get\_mod\_time@{\_get\_mod\_time}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\_get\_mod\_time()}{\_get\_mod\_time()}}
{\footnotesize\ttfamily \+\_\+get\+\_\+mod\+\_\+time (\begin{DoxyParamCaption}\item[{}]{\$dir }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Get file/directory modification time

If this is a newly created file/dir, we will set the time to \textquotesingle{}now\textquotesingle{}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$dir} & path to file \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array filemtime/filemdate 
\end{DoxyReturn}


Definition at line 162 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a8d541e6609a5b2634a6a2bc7731465a5}\label{class_c_i___zip_a8d541e6609a5b2634a6a2bc7731465a5}} 
\index{CI\_Zip@{CI\_Zip}!add\_data@{add\_data}}
\index{add\_data@{add\_data}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{add\_data()}{add\_data()}}
{\footnotesize\ttfamily add\+\_\+data (\begin{DoxyParamCaption}\item[{}]{\$filepath,  }\item[{}]{\$data = {\ttfamily NULL} }\end{DoxyParamCaption})}

Add Data to Zip

Lets you add files to the archive. If the path is included in the filename it will be placed within a directory. Make sure you use \mbox{\hyperlink{class_c_i___zip_a86b6a309dad105e43b446dc9f8820703}{add\+\_\+dir()}} first to create the folder.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$filepath} & A single filepath or an array of file =$>$ data pairs \\
\hline
string & {\em \$data} & Single file contents \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 235 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a86b6a309dad105e43b446dc9f8820703}\label{class_c_i___zip_a86b6a309dad105e43b446dc9f8820703}} 
\index{CI\_Zip@{CI\_Zip}!add\_dir@{add\_dir}}
\index{add\_dir@{add\_dir}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{add\_dir()}{add\_dir()}}
{\footnotesize\ttfamily add\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{\$directory }\end{DoxyParamCaption})}

Add Directory

Lets you add a virtual directory into which you can place files.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$directory} & the directory name. Can be string or array \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 138 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a935879d7074c751a4ac886aebd66cbd4}\label{class_c_i___zip_a935879d7074c751a4ac886aebd66cbd4}} 
\index{CI\_Zip@{CI\_Zip}!archive@{archive}}
\index{archive@{archive}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{archive()}{archive()}}
{\footnotesize\ttfamily archive (\begin{DoxyParamCaption}\item[{}]{\$filepath }\end{DoxyParamCaption})}

Write File to the specified directory

Lets you write a file


\begin{DoxyParams}[1]{Parameters}
string & {\em \$filepath} & the file name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}


Definition at line 428 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a89d046bac0ab06a81c5c03d55b4bcae5}\label{class_c_i___zip_a89d046bac0ab06a81c5c03d55b4bcae5}} 
\index{CI\_Zip@{CI\_Zip}!clear\_data@{clear\_data}}
\index{clear\_data@{clear\_data}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{clear\_data()}{clear\_data()}}
{\footnotesize\ttfamily clear\+\_\+data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Initialize Data

Lets you clear current zip data. Useful if you need to create multiple zips with different data.

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___zip}{C\+I\+\_\+\+Zip}} 
\end{DoxyReturn}


Definition at line 483 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_ad4263f6c296942842ae25a94053c5f16}\label{class_c_i___zip_ad4263f6c296942842ae25a94053c5f16}} 
\index{CI\_Zip@{CI\_Zip}!download@{download}}
\index{download@{download}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{download()}{download()}}
{\footnotesize\ttfamily download (\begin{DoxyParamCaption}\item[{}]{\$filename = {\ttfamily \textquotesingle{}backup.zip\textquotesingle{}} }\end{DoxyParamCaption})}

Download


\begin{DoxyParams}[1]{Parameters}
string & {\em \$filename} & the file name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 459 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a263fd906f99ccca15a12fe34a79656e4}\label{class_c_i___zip_a263fd906f99ccca15a12fe34a79656e4}} 
\index{CI\_Zip@{CI\_Zip}!get\_zip@{get\_zip}}
\index{get\_zip@{get\_zip}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{get\_zip()}{get\_zip()}}
{\footnotesize\ttfamily get\+\_\+zip (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Get the Zip file

\begin{DoxyReturn}{Returns}
string (binary encoded) 
\end{DoxyReturn}


Definition at line 401 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a296847a86d7cf0e4bba9b71a173cfffe}\label{class_c_i___zip_a296847a86d7cf0e4bba9b71a173cfffe}} 
\index{CI\_Zip@{CI\_Zip}!read\_dir@{read\_dir}}
\index{read\_dir@{read\_dir}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{read\_dir()}{read\_dir()}}
{\footnotesize\ttfamily read\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{\$path,  }\item[{}]{\$preserve\+\_\+filepath = {\ttfamily \mbox{\hyperlink{constants_8php_ae04a3efe6aa42044f803ee90c2277846}{T\+R\+UE}}},  }\item[{}]{\$root\+\_\+path = {\ttfamily NULL} }\end{DoxyParamCaption})}

Read a directory and add it to the zip.

This function recursively reads a folder and everything it contains (including sub-\/folders) and creates a zip based on it. Whatever directory structure is in the original file path will be recreated in the zip file.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$path} & path to source directory \\
\hline
bool & {\em \$preserve\+\_\+filepath} & \\
\hline
string & {\em \$root\+\_\+path} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}


Definition at line 353 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_aa43eef46a052a3aff7a2ff0bf5c21c75}\label{class_c_i___zip_aa43eef46a052a3aff7a2ff0bf5c21c75}} 
\index{CI\_Zip@{CI\_Zip}!read\_file@{read\_file}}
\index{read\_file@{read\_file}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{read\_file()}{read\_file()}}
{\footnotesize\ttfamily read\+\_\+file (\begin{DoxyParamCaption}\item[{}]{\$path,  }\item[{}]{\$archive\+\_\+filepath = {\ttfamily FALSE} }\end{DoxyParamCaption})}

Read the contents of a file and add it to the zip


\begin{DoxyParams}[1]{Parameters}
string & {\em \$path} & \\
\hline
bool & {\em \$archive\+\_\+filepath} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}


Definition at line 314 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a4c29a687d4ed62c26a10e41d98930d5f}\label{class_c_i___zip_a4c29a687d4ed62c26a10e41d98930d5f}} 
\index{CI\_Zip@{CI\_Zip}!strlen@{strlen}}
\index{strlen@{strlen}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{strlen()}{strlen()}}
{\footnotesize\ttfamily static strlen (\begin{DoxyParamCaption}\item[{}]{\$str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

Byte-\/safe \mbox{\hyperlink{class_c_i___zip_a4c29a687d4ed62c26a10e41d98930d5f}{strlen()}}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$str} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}


Definition at line 501 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a101caef57ef0b165da5747e2c2e6c9dc}\label{class_c_i___zip_a101caef57ef0b165da5747e2c2e6c9dc}} 
\index{CI\_Zip@{CI\_Zip}!substr@{substr}}
\index{substr@{substr}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{substr()}{substr()}}
{\footnotesize\ttfamily static substr (\begin{DoxyParamCaption}\item[{}]{\$str,  }\item[{}]{\$start,  }\item[{}]{\$length = {\ttfamily NULL} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

Byte-\/safe \mbox{\hyperlink{class_c_i___zip_a101caef57ef0b165da5747e2c2e6c9dc}{substr()}}


\begin{DoxyParams}[1]{Parameters}
string & {\em \$str} & \\
\hline
int & {\em \$start} & \\
\hline
int & {\em \$length} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}


Definition at line 518 of file Zip.\+php.



\subsection{Field Documentation}
\mbox{\Hypertarget{class_c_i___zip_a9a4e30766e452f0d2feaecd666787ca1}\label{class_c_i___zip_a9a4e30766e452f0d2feaecd666787ca1}} 
\index{CI\_Zip@{CI\_Zip}!\$compression\_level@{\$compression\_level}}
\index{\$compression\_level@{\$compression\_level}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$compression\_level}{$compression\_level}}
{\footnotesize\ttfamily \$compression\+\_\+level = 2}



Definition at line 106 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a1b07c630eb02f770a082a013373a16d6}\label{class_c_i___zip_a1b07c630eb02f770a082a013373a16d6}} 
\index{CI\_Zip@{CI\_Zip}!\$directory@{\$directory}}
\index{\$directory@{\$directory}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$directory}{$directory}}
{\footnotesize\ttfamily \$directory = \textquotesingle{}\textquotesingle{}}



Definition at line 69 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_affb4200921149b6126d0e51b415b2c75}\label{class_c_i___zip_affb4200921149b6126d0e51b415b2c75}} 
\index{CI\_Zip@{CI\_Zip}!\$entries@{\$entries}}
\index{\$entries@{\$entries}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$entries}{$entries}}
{\footnotesize\ttfamily \$entries = 0}



Definition at line 76 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_af1ab53ee1a849492829ce782aac0163d}\label{class_c_i___zip_af1ab53ee1a849492829ce782aac0163d}} 
\index{CI\_Zip@{CI\_Zip}!\$file\_num@{\$file\_num}}
\index{\$file\_num@{\$file\_num}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$file\_num}{$file\_num}}
{\footnotesize\ttfamily \$file\+\_\+num = 0}



Definition at line 83 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_aef84be58d58a5895572c5689e56a1047}\label{class_c_i___zip_aef84be58d58a5895572c5689e56a1047}} 
\index{CI\_Zip@{CI\_Zip}!\$func\_overload@{\$func\_overload}}
\index{\$func\_overload@{\$func\_overload}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$func\_overload}{$func\_overload}}
{\footnotesize\ttfamily \$func\+\_\+overload\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}



Definition at line 113 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_af1d5ccdee975b8f4d20aaffc5b28557c}\label{class_c_i___zip_af1d5ccdee975b8f4d20aaffc5b28557c}} 
\index{CI\_Zip@{CI\_Zip}!\$now@{\$now}}
\index{\$now@{\$now}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$now}{$now}}
{\footnotesize\ttfamily \$now}



Definition at line 97 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_aec4de82415d7f05cb9748d12d3a95a87}\label{class_c_i___zip_aec4de82415d7f05cb9748d12d3a95a87}} 
\index{CI\_Zip@{CI\_Zip}!\$offset@{\$offset}}
\index{\$offset@{\$offset}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$offset}{$offset}}
{\footnotesize\ttfamily \$offset = 0}



Definition at line 90 of file Zip.\+php.

\mbox{\Hypertarget{class_c_i___zip_a395accfd5884d9a0e6fd53470b3e85b1}\label{class_c_i___zip_a395accfd5884d9a0e6fd53470b3e85b1}} 
\index{CI\_Zip@{CI\_Zip}!\$zipdata@{\$zipdata}}
\index{\$zipdata@{\$zipdata}!CI\_Zip@{CI\_Zip}}
\subsubsection{\texorpdfstring{\$zipdata}{$zipdata}}
{\footnotesize\ttfamily \$zipdata = \textquotesingle{}\textquotesingle{}}



Definition at line 62 of file Zip.\+php.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
system/libraries/\mbox{\hyperlink{_zip_8php}{Zip.\+php}}\end{DoxyCompactItemize}
